/**
    LargeNavBar component.

    A navigation bar for medium to large screens
    with lot of defails, status and shortcut tools links
    for the Loconomics App Styleguide.

    Areas: Logo, Search, Contextual Menu, User Menu, Notifications
    and tool links

    Initial code (hightly adapted, renamed): Adi/Juvo.
**/

@import 'nib';
@import '../utils/input-placeholder.styl';
@import './SearchBar.styl';

$LargeNavBar-height = $big-navbar-height
$LargeNavBar-vGap = 2px
$LargeNavBar-contentHeight = $LargeNavBar-height - ($LargeNavBar-vGap * 2)

.LargeNavBar {
    height $LargeNavBar-height
    width: 100%;
    background-color: white;
    border-bottom: 1px solid $gray-light;
    margin-bottom: 0;
    position: relative;
    z-index: 250;
    padding $LargeNavBar-vGap 60px $LargeNavBar-vGap 60px
    // common border color
    $border-color =	$gray-lighter
    // General layout: flexible layout using 'table' so search expands all the needed while using
    // only one line
    display: table;
    & > .LargeNavBar-brand
    & > .LargeNavBar-navBar
    & > .LargeNavBar-searchBar {
        float none
        display table-cell
        vertical-align top
        white-space nowrap
        // Automatic size, the minimum required
        width auto
    }
    // Brand has fixed size
    & > .LargeNavBar-brand {
        width 100px
    }
    // Search grow the max, all remaining size for it
    & > .LargeNavBar-searchBar {
        width 100%
    }
    // Navbar left with auto size, just the needed minimum size for one line
    // Search bar.
    .LargeNavBar-searchBar {
        border-left 1px solid $border-color
        SearchBar($LargeNavBar-contentHeight)
    }
    // Brand
    .LargeNavBar-brand {
        padding-right $container-padding-right;
        .navbar-brand {
            height $LargeNavBar-contentHeight
        }
    }
    // Links
    .LargeNavBar-navBar {
        padding 0px
        float right
        & > li {
            display: inline-block;
            height: $LargeNavBar-contentHeight;
            line-height: 26px;
            width: auto;
            //border-left 1px solid $border-color
            padding: 0;
            white-space: nowrap;
            vertical-align: top;
            .LargeNavBar-label {
                max-width: 96px;
                white-space: nowrap;
                word-break: break-all;
                text-overflow: ellipsis;
                overflow: hidden;
                vertical-align: top;
                display: inline-block;
            }
            & > a,
            & > button {
                height $LargeNavBar-contentHeight
                line-height $LargeNavBar-contentHeight
                color $gray;
                background-color: transparent;
                border: none;
                padding-top 0
                padding-bottom 0
                font-size 16px;
                &:hover
                &:focus {
                    background-color transparent
                    color $brand-secondary-dark !important
                    border-color transparent
                    border-bottom none;
                }
            }
        }
        & > .open {

            & > a{
                color: $gray;
                background-color: #fff;
            }

            & > button {
                background-color: transparent;
                border: none;
            }

            & > .dropdown-menu {
                .go-dashboard > a
                .go-onboarding > a
                .go-logout > a {
                    padding-left: 10px;
                    padding-bottom: 10px;
                    &:hover,
                    &:focus {
                        padding-left: 17px;
                    }
                }
                &.Category-menu {
                    > li {
                        text-align: center;
                        border-bottom: 1px solid $gray-background;
                        > a {
                            white-space: normal;
                            font-size: inherit;
                            padding: 10px 0px;
                        }
                    }
                    > li:last-child {
                        border-bottom: none;
                    }
                }
            }
        }
    }

    // Fix for the navbar-right class that get an ugly media-min-query value as sideeffect of customization
    // (min-width: 99999)...replaced by a min-width: sm-size
    @media $media-big-navbar {
        .navbar-right .dropdown-menu {
            left: auto;
            right: 0;
        }
        .navbar-right .dropdown-menu-left {
            left: 0;
            right: auto;
        }
        .navbar-left {
            float: left !important;
        }
        .navbar-right {
            float: right !important;
            margin-right: (0 - $container-padding-right);
        }
        .navbar-right ~ .navbar-right {
            margin-right: 0;
        }
    }
}
